{% extends 'base.html' %}
{% block content %}
{% for game in game %}
<h1 class="text-center">Above Board</h1>
<div class="row">
    <div class="col s12 m10 offset-m1">
        <div class="card-panel outer-panel">
            <h2 class="text-center">{{ game.title }}</h2>
            <div class="row">
                <div class="col s12 m5 l4 xl3">
                    <img src="{{ game.image_link }}" alt="Box Art for {{ game.title }}" class="main-box-image">
                </div>
                <div class="card-panel game-data-panel col s12 m7 l8 xl9">
                    <div class="row">
                        <div class="col s12 m6">
                            <ul class="game-data">
                                <li><span>Designer:</span> {{ game.designer }}</li>
                                <li><span>Publisher:</span> {{ game.publisher }}</li>
                                <li><span>Genre:</span> {{ game.genre.title() }}</li>
                                <li><span>Mechanics:</span> {{ game.mechanics.title() }}</li>
                            </ul>
                        </div>
                        <div class="col s12 m6">
                            <ul class="game-data-2">
                                <li><span>Player Count:</span> {{ game.player_count }}</li>
                                <li><span>Rating:</span> {{ game.rating }}</li>
                                <li><span>Weight:</span> {{ game.weight }}</li>
                                <li><span>Added By:</span> {{ game.added_by }}</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="card-panel game-description-panel col s12">
                    <h5>Description:</h5>
                    <p>{{ game.description }}</p>
                </div>
            </div>
            {% if current_user.username == game.added_by %}
            <div class="row">
                <div class="col s4"></div>
                <div class="col s2">
                    <a href="#" class="btn edit-btn">
                        <i class="fas fa-edit"></i> Edit
                    </a>
                </div>
                <div class="col s2">
                    <a href="#delete-modal" class="btn delete-btn modal-trigger">
                        <i class="fas fa-times-circle"></i> Delete
                    </a>
                </div>
                <div class="col s4"></div>
            </div>
            {% endif %}
        </div>
    </div>
</div>

<!-- Confirm Delete - Modal adapted from Materialize docs -->
<div id="delete-modal" class="modal">
    <div class="modal-content">
        <h4>Delete Game</h4>
        <p>Are you sure you want to delete this game? Once it is done, it cannot be reversed.</p>
    </div>
    <div class="modal-footer">
        <a href="#!" class="waves-effect waves-red btn-flat">Delete</a>
        <a href="#!" class="modal-close waves-effect waves-red btn-flat">Cancel</a>
    </div>
</div>
{% endfor %}
{% endblock %}